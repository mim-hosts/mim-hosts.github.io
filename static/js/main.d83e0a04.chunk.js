(this["webpackJsonpmim-hosts"]=this["webpackJsonpmim-hosts"]||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var o,r=n(0),s=n.n(r),c=n(9),a=n.n(c),i=(n(98),n(16)),l=n.n(i),d=n(26),u=n(7),h=n(151),m=n(153),j=n(154),b=n(125),p=n(158),f=n(77),x=n(3),g=Object(h.a)((function(){return{header:{backgroundColor:"#343a40",height:"56px"},logo:{fontFamily:"Titillium Web, sans-serif",fontWeight:600,color:"#fff",paddingBottom:".5125rem",fontSize:"1.25rem"}}})),O=function(e){var t=e.isDark,n=e.onChange,o=g(),r=o.header,s=o.logo,c=Object(x.jsx)("div",{style:{paddingBottom:"2px"},children:Object(x.jsx)(f.DarkModeSwitch,{sunColor:"white",checked:t,onChange:n,size:35})}),a=Object(x.jsx)(j.a,{href:"https://mim-hosts.github.io",style:{textDecoration:"none"},children:Object(x.jsx)(b.a,{className:s,children:"mim-hosts.github.io"})});return Object(x.jsx)(p.a,{className:r,children:Object(x.jsxs)(m.a,{style:{justifyContent:"space-between"},children:[a,c]})})},w=n(82),v=n.n(w),y=function(e){var t=e.hosts,n=void 0===t?{}:t,o=Object.values(n).flatMap((function(e){return Object.values(e)})),r=o.filter((function(e){return e.up})).map((function(e){return e.os})).reduce((function(e,t){return e.set(t,(e.get(t)||0)+1)}),new Map),s=Object.fromEntries(r);return Object(x.jsx)("thead",{className:v.a.theadDark,children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"col",style:{width:"30px"},children:"Sala"}),Object(x.jsx)("th",{scope:"col",style:{width:"30px"},children:"Nazwa"}),Object(x.jsx)("th",{scope:"col",style:{width:"200px"},children:"Typ komputera"}),Object(x.jsx)("th",{scope:"col",style:{width:"170px"},children:"Procesor"}),Object(x.jsx)("th",{scope:"col",style:{width:"30px"},children:"RAM"}),Object(x.jsx)("th",{scope:"col",style:{width:"150px"},children:"Grafika"}),Object(x.jsx)("th",{scope:"col",style:{width:"200px"},children:"Zaj\u0119cia"}),Object(x.jsx)("th",{scope:"col",style:{width:"340px"},children:Object(x.jsx)("div",{style:{paddingLeft:"6px"},children:"Hosty".concat(o.length?" (".concat(Object.keys(s).sort().map((function(e){return"".concat(function(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace("os","OS")}(e)," - ").concat(s[e])})).join(", "),")"):"")})})]})})},B=n(63),k=n.n(B),C=n(53),G=n(12),P=n(156),_=function(e){return[{room:2041,codename:"Red",type:"Apple iMac Late 2013",processor:"Intel Core i5-4570",memory:"8GB",graphics:"nVidia GeForce GT755M Mac Edition [GK107M]",color:"red"},{room:2042,codename:"Pink",type:"Dell Precision Tower 3620",processor:"Intel Xeon E3-1240 v6",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"rgb(255, 102, 255)"},{room:2043,codename:"Orange",type:"Dell Precision Tower 3620",processor:"Intel Xeon E3-1240 v6",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"orange"},{room:2044,codename:"Brown",type:"Dell Precision Tower 3620",processor:"Intel Xeon E3-1240 v6",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"brown"},{room:2045,codename:"Green",type:"Dell Precision Tower 1700",processor:"Intel Xeon E3-1220 v3",memory:"8GB",graphics:"nVidia NVS 315 [GF119]",color:"green"},{room:3041,codename:"Khaki",type:"Dell Precision Tower 3630",processor:"Intel Core i5-8500",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"rgb(173, 169, 110)"},{room:3042,codename:"White",type:"Dell Precision Tower 3630",processor:"Intel Core i5-8500",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:e?"white":"#212529"},{room:3043,codename:"Cyan",type:"Dell Precision Tower 3630",processor:"Intel Core i5-8500",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"cyan"},{room:3044,codename:"Blue",type:"Dell Precision Tower 3630",processor:"Intel Core i5-8500",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"blue"},{room:3045,codename:"Violet",type:"Dell Precision Tower 3630",processor:"Intel Core i5-8500",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"violet"}]},I="brak zaj\u0119\u0107",L=["brown","white","blue","red","green"],D=n(157),S=n(83),T=n.n(S),N=function(e,t,n,o,r){return Object(x.jsx)(D.a,{variant:"contained",disableRipple:!0,disableElevation:!0,className:T.a.classButton,style:{backgroundColor:t.title===I?"#e0e0e0":e?n.color:"#7a7a7a",color:L.includes(n.codename.toLowerCase())&&e&&t.title!==I&&"white"!==n.color||!e&&t.title!==I?"white":void 0},children:o},r)},E=function(){var e=new Date;return String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")},R=Object(G.a)({tooltip:{fontSize:"1em",fontFamily:"Titillium Web, sans-serif",fontWeight:600}})(P.a),V=function(e){var t=e.staticInfo,n=e.classes,o=e.onAfterClasses,s=Object(r.useState)(E()),c=Object(u.a)(s,2),a=c[0],i=c[1],l=Object(r.useState)("Loading..."),d=Object(u.a)(l,2),h=d[0],m=d[1];return Object(r.useEffect)((function(){var e=setInterval((function(){i(E())}),5e3);return function(){return clearInterval(e)}})),Object(r.useEffect)((function(){m(function(e,t,n,o){var r;if(o){o.unshift({start:"00:00",end:"08:30",title:I});for(var s=o.length-2;s>=0;--s){var c=o[s].end.split(":").map(Number),a=(new Date).setHours(c[0],c[1],0,0),i=o[s+1].start.split(":").map(Number);((new Date).setHours(i[0],i[1],0,0)-a)/6e4>30&&o.splice(s+1,0,{start:o[s].end,end:o[s+1].start,title:I})}o.shift();var l=o.filter((function(t){return t.end>e})).sort((function(e,t){return e.start>t.start?1:t.start>e.start?-1:0}));l.splice(2),n(0===(r=l.map((function(n){var o=n.start<=e&&e<n.end,r=n.title.length>56,s=n.title.slice(0,53),c=r?"".concat(s.substring(0,s.lastIndexOf(" "))," ..."):n.title;return Object(x.jsxs)("div",{style:{marginBottom:"10px"},children:[Object(x.jsxs)("div",{style:{fontWeight:"bold"},children:[n.start," - ",n.end]}),r?Object(x.jsx)(R,{title:n.title,children:N(o,n,t,c)},"".concat(n.start).concat(n.end).concat(n.title)):N(o,n,t,c,"".concat(n.start).concat(n.end).concat(n.title))]},"".concat(n.start,"-").concat(n.end,"-").concat(n.title))}))).length),0===r.length&&(r="Zaj\u0119cia sko\u0144czy\u0142y si\u0119")}else r="Loading...";return r}(a,t,o,n))}),[a,t,n,o]),Object(x.jsx)(x.Fragment,{children:h})},F=n(48),M=n.n(F),Q=n(85),A=n.n(Q),W=n(57),H=function(e){var t=e.hostname,n=e.entry,o=e.staticInfo,r=e.osLogo,s=Object(W.b)().enqueueSnackbar;return Object(x.jsx)(D.a,{variant:"contained",disableRipple:!n.up,disableElevation:!0,className:A.a.hostButton,style:{backgroundColor:n.up?o.color:"#7a7a7a",color:!n.up||L.includes(o.codename.toLowerCase())&&n.up&&"white"!==o.color?"white":void 0,cursor:n.up?void 0:"initial"},onClick:n.up?function(){navigator&&navigator.clipboard&&(navigator.clipboard.writeText(t).then(),s('Hostname "'.concat(t,'" copied to clipboard'),{variant:"success"}))}:void 0,children:Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[t,Object(x.jsx)("div",{style:{marginLeft:"2px",marginBottom:"-5px"},children:r})]})},t)},z=n(86),X=n.n(z),K=function(e){var t,n=e.staticInfo,o=e.hosts,s=e.classes,c=Object(r.useState)(!1),a=Object(u.a)(c,2),i=a[0],l=a[1];o?t=Object.entries(o).map((function(e){return{number:e[0],up:Boolean(e[1].up),os:e[1].os||""}})).sort((function(e,t){return e.number>t.number?1:t.number>e.number?-1:0})).map((function(e){var t,o="".concat(n.codename.toLowerCase()).concat(e.number),r=L.includes(n.codename.toLowerCase())&&"white"!==n.color,s=e.up?"windows"===e.os?(t=r,Object(x.jsx)("img",{width:"20px",style:{filter:t?"invert(100%)":void 0,marginBottom:"-5px"},src:"/windows.svg",alt:"windows"})):"red"===n.codename.toLowerCase()?function(e){return Object(x.jsxs)("div",{style:{marginBottom:"6px"},children:[Object(x.jsx)("img",{width:"16px",style:{filter:e?"invert(100%)":void 0,marginBottom:"-2px"},src:"/macos.svg",alt:"macos"}),"/",Object(x.jsx)("img",{width:"16px",style:{filter:e?"invert(100%)":void 0,marginBottom:"-2px"},src:"/linux.svg",alt:"linux"})]})}(r):function(e){return Object(x.jsx)("img",{width:"20px",style:{filter:e?"invert(100%)":void 0,marginBottom:"-5px"},src:"/linux.svg",alt:"linux"})}(r):Object(x.jsx)("div",{style:{width:"26px"}});return Object(x.jsx)(H,{hostname:o,entry:e,staticInfo:n,osLogo:s},o)})):t="Loading...";return Object(x.jsxs)("tr",{className:M.a.tableRow,children:[Object(x.jsx)("td",{children:n.room}),Object(x.jsx)("td",{style:{color:n.color},children:n.codename}),Object(x.jsx)("td",{children:n.type}),Object(x.jsx)("td",{children:n.processor}),Object(x.jsx)("td",{children:n.memory}),Object(x.jsx)("td",{children:n.graphics}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{className:M.a.classes,children:Object(x.jsx)(V,{staticInfo:n,classes:s,onAfterClasses:function(e){l(e)}})})}),Object(x.jsx)("td",{children:"string"===typeof t?t:Object(x.jsx)("div",{className:X()(M.a.hostsButtons,Object(C.a)({},M.a.hostsButtonsDuringClasses,!i)),children:t})})]})},q=n(47),J=n.n(q),Z=function(e){var t=e.isDark,n=Object(r.useState)(),o=Object(u.a)(n,2),s=o[0],c=o[1],a=Object(r.useState)(),i=Object(u.a)(a,2),h=i[0],m=i[1],j=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{J.a.get("https://students.mimuw.edu.pl/~kr394714/mim-hosts/").then((function(e){c(e.data)}))}catch(t){console.error(t.message)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{J.a.get("https://students.mimuw.edu.pl/~kr394714/mim-hosts/rooms/").then((function(e){m(e.data)}))}catch(t){console.error(t.message)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){j().then(),b().then();var e=setInterval((function(){j().then(),b().then()}),15e3);return function(){return clearInterval(e)}}),[]),Object(x.jsx)("div",{className:k.a.tableResponsive,children:Object(x.jsxs)("table",{className:k.a.tableBordered,children:[Object(x.jsx)(y,{hosts:s}),Object(x.jsx)("tbody",{children:_(t).map((function(e){var t=s?s[e.codename.toLowerCase()]:void 0,n=h?h[e.room]:void 0;return Object(x.jsx)(K,{staticInfo:e,hosts:t,classes:n},e.codename.toLowerCase())}))})]})})},U=n(56),Y={body:"white",text:"#212529",thBorderColor:"#454d55"},$={body:"#303030",text:"white",thBorderColor:"#dee2e6"},ee=n(87),te=Object(U.b)(o||(o=Object(ee.a)(["\n  body {\n    font-family: 'Titillium Web', sans-serif;\n    background: ",";\n    color: ",";\n  }\n\n  th {\n    border: 1px solid ",";\n  }\n\n  .App {\n    text-align: center;\n  }\n"])),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.thBorderColor})),ne=n(91),oe=n.n(ne);var re=function(){return Object(x.jsxs)("div",{className:oe.a.footer,children:["Kontakt: ",Object(x.jsx)("a",{href:"mailto:k.rokicki@students.mimuw.edu.pl",children:"k.rokicki@students.mimuw.edu.pl"})]})},se=n(155);var ce=function(){var e=function(){var e=Object(r.useState)(window.localStorage.getItem("theme")||"dark"),t=Object(u.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){var e=window.localStorage.getItem("theme");e&&o(e)}),[]),[n,function(){"light"===n?(window.localStorage.setItem("theme","dark"),o("dark")):(window.localStorage.setItem("theme","light"),o("light"))}]}(),t=Object(u.a)(e,2),n=t[0],o=t[1],s="light"===n?Y:$,c=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.get("https://students.mimuw.edu.pl/~kr394714/mim-hosts/visits/");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(se.a)((function(){c().then()})),Object(x.jsx)(W.a,{maxSnack:2,disableWindowBlurListener:!0,children:Object(x.jsx)(U.a,{theme:s,children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(te,{}),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(O,{isDark:"dark"===n,onChange:o}),Object(x.jsx)(Z,{isDark:"dark"===n}),Object(x.jsx)(re,{})]})]})})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,160)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),o(e),r(e),s(e),c(e)}))};a.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(ce,{})}),document.getElementById("root")),ae()},48:function(e,t,n){e.exports={tableRow:"TableRow_tableRow__F3VnF",classes:"TableRow_classes__3PfM9",hostsButtons:"TableRow_hostsButtons__fQQGn",hostsButtonsDuringClasses:"TableRow_hostsButtonsDuringClasses__SYE7E"}},63:function(e,t,n){e.exports={tableResponsive:"Table_tableResponsive__2TNAy",tableBordered:"Table_tableBordered__xVRor"}},82:function(e,t,n){e.exports={theadDark:"TableHeader_theadDark__34kXy"}},83:function(e,t,n){e.exports={classButton:"ClassButton_classButton__es_Pq"}},85:function(e,t,n){e.exports={hostButton:"HostButton_hostButton__1EB-R"}},91:function(e,t,n){e.exports={footer:"Footer_footer__1lA4x"}},98:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.d83e0a04.chunk.js.map