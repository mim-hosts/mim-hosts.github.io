(this["webpackJsonpmim-hosts"]=this["webpackJsonpmim-hosts"]||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),s=n(9),c=n.n(s),a=(n(98),n(7)),i=n(151),l=n(153),d=n(154),u=n(125),h=n(158),m=n(77),b=n(3),j=Object(i.a)((function(){return{header:{backgroundColor:"#343a40",height:"56px"},logo:{fontFamily:"Titillium Web, sans-serif",fontWeight:600,color:"#fff",paddingBottom:".5125rem",fontSize:"1.25rem"}}})),p=function(e){var t=e.isDark,n=e.onChange,o=j(),r=o.header,s=o.logo,c=Object(b.jsx)("div",{style:{paddingBottom:"2px"},children:Object(b.jsx)(m.DarkModeSwitch,{sunColor:"white",checked:t,onChange:n,size:35})}),a=Object(b.jsx)(d.a,{href:"https://mim-hosts.github.io",style:{textDecoration:"none"},children:Object(b.jsx)(u.a,{className:s,children:"mim-hosts.github.io"})});return Object(b.jsx)(h.a,{className:r,children:Object(b.jsxs)(l.a,{style:{justifyContent:"space-between"},children:[a,c]})})},f=n(16),x=n.n(f),g=n(27),O=n(82),w=n.n(O);var v,y=function(){return Object(b.jsx)("thead",{className:w.a.theadDark,children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",style:{width:"30px"},children:"Sala"}),Object(b.jsx)("th",{scope:"col",style:{width:"30px"},children:"Nazwa"}),Object(b.jsx)("th",{scope:"col",style:{width:"200px"},children:"Typ komputera"}),Object(b.jsx)("th",{scope:"col",style:{width:"170px"},children:"Procesor"}),Object(b.jsx)("th",{scope:"col",style:{width:"30px"},children:"RAM"}),Object(b.jsx)("th",{scope:"col",style:{width:"150px"},children:"Grafika"}),Object(b.jsx)("th",{scope:"col",style:{width:"200px"},children:"Zaj\u0119cia"}),Object(b.jsx)("th",{scope:"col",style:{width:"340px"},children:Object(b.jsx)("div",{style:{paddingLeft:"6px"},children:"Hosty"})})]})})},B=n(63),k=n.n(B),C=n(52),G=n(12),P=n(156),_=function(e){return[{room:2041,codename:"Red",type:"Apple iMac Late 2013",processor:"Intel Core i5-4570",memory:"8GB",graphics:"nVidia GeForce GT755M Mac Edition [GK107M]",color:"red"},{room:2042,codename:"Pink",type:"Dell Precision Tower 3620",processor:"Intel Xeon E3-1240 v6",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"rgb(255, 102, 255)"},{room:2043,codename:"Orange",type:"Dell Precision Tower 3620",processor:"Intel Xeon E3-1240 v6",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"orange"},{room:2044,codename:"Brown",type:"Dell Precision Tower 3620",processor:"Intel Xeon E3-1240 v6",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"brown"},{room:2045,codename:"Green",type:"Dell Precision Tower 1700",processor:"Intel Xeon E3-1220 v3",memory:"8GB",graphics:"nVidia NVS 315 [GF119]",color:"green"},{room:3041,codename:"Khaki",type:"Dell Precision Tower 3630",processor:"Intel Core i5-8500",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"rgb(173, 169, 110)"},{room:3042,codename:"White",type:"Dell Precision Tower 3630",processor:"Intel Core i5-8500",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:e?"white":"#212529"},{room:3043,codename:"Cyan",type:"Dell Precision Tower 3630",processor:"Intel Core i5-8500",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"cyan"},{room:3044,codename:"Blue",type:"Dell Precision Tower 3630",processor:"Intel Core i5-8500",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"blue"},{room:3045,codename:"Violet",type:"Dell Precision Tower 3630",processor:"Intel Core i5-8500",memory:"16GB",graphics:"nVidia Quadro P400 [GP107GL]",color:"violet"}]},I="brak zaj\u0119\u0107",L=["brown","white","blue","red","green"],D=n(157),T=n(83),S=n.n(T),N=function(e,t,n,o,r){return Object(b.jsx)(D.a,{variant:"contained",disableRipple:!0,disableElevation:!0,className:S.a.classButton,style:{backgroundColor:t.title===I?"#e0e0e0":e?n.color:"#7a7a7a",color:L.includes(n.codename.toLowerCase())&&e&&t.title!==I&&"white"!==n.color||!e&&t.title!==I?"white":void 0},children:o},r)},R=function(){var e=new Date;return String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")},E=Object(G.a)({tooltip:{fontSize:"1em",fontFamily:"Titillium Web, sans-serif",fontWeight:600}})(P.a),V=function(e){var t=e.staticInfo,n=e.classes,r=e.onAfterClasses,s=Object(o.useState)(R()),c=Object(a.a)(s,2),i=c[0],l=c[1],d=Object(o.useState)("Loading..."),u=Object(a.a)(d,2),h=u[0],m=u[1];return Object(o.useEffect)((function(){var e=setInterval((function(){l(R())}),15e3);return function(){return clearInterval(e)}})),Object(o.useEffect)((function(){m(function(e,t,n,o){var r;if(o){o.unshift({start:"00:00",end:"08:30",title:I});for(var s=o.length-2;s>=0;--s){var c=o[s].end.split(":").map(Number),a=(new Date).setHours(c[0],c[1]),i=o[s+1].start.split(":").map(Number);((new Date).setHours(i[0],i[1])-a)/1e3>30&&o.splice(s+1,0,{start:o[s].end,end:o[s+1].start,title:I})}o.shift();var l=o.filter((function(t){return t.end>e})).sort((function(e,t){return e.start>t.start?1:t.start>e.start?-1:0}));l.splice(2),n(0===(r=l.map((function(n){var o=n.start<=e&&e<n.end,r=n.title.length>56,s=n.title.slice(0,53),c=r?"".concat(s.substring(0,s.lastIndexOf(" "))," ..."):n.title;return Object(b.jsxs)("div",{style:{marginBottom:"10px"},children:[Object(b.jsxs)("div",{style:{fontWeight:"bold"},children:[n.start," - ",n.end]}),r?Object(b.jsx)(E,{title:n.title,children:N(o,n,t,c)},"".concat(n.start).concat(n.end).concat(n.title)):N(o,n,t,c,"".concat(n.start).concat(n.end).concat(n.title))]},"".concat(n.start,"-").concat(n.end,"-").concat(n.title))}))).length),0===r.length&&(r="Zaj\u0119cia sko\u0144czy\u0142y si\u0119")}else r="Loading...";return r}(i,t,r,n))}),[i,t,n,r]),Object(b.jsx)(b.Fragment,{children:h})},F=n(47),Q=n.n(F),M=n(85),A=n.n(M),W=n(56),H=function(e){var t=e.hostname,n=e.entry,o=e.staticInfo,r=e.osLogo,s=Object(W.b)().enqueueSnackbar;return Object(b.jsx)(D.a,{variant:"contained",disableRipple:!n.up,disableElevation:!0,className:A.a.hostButton,style:{backgroundColor:n.up?o.color:"#7a7a7a",color:!n.up||L.includes(o.codename.toLowerCase())&&n.up&&"white"!==o.color?"white":void 0,cursor:n.up?void 0:"initial"},onClick:n.up?function(){navigator&&navigator.clipboard&&(navigator.clipboard.writeText(t).then(),s('Hostname "'.concat(t,'" copied to clipboard'),{variant:"success"}))}:void 0,children:Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[t,Object(b.jsx)("div",{style:{marginLeft:"2px",marginBottom:"-5px"},children:r})]})},t)},z=n(86),X=n.n(z),K=function(e){var t,n=e.staticInfo,r=e.hosts,s=e.classes,c=Object(o.useState)(!1),i=Object(a.a)(c,2),l=i[0],d=i[1];r?t=Object.entries(r).map((function(e){return{number:e[0],up:Boolean(e[1].up),os:e[1].os||""}})).sort((function(e,t){return e.number>t.number?1:t.number>e.number?-1:0})).map((function(e){var t,o="".concat(n.codename.toLowerCase()).concat(e.number),r=L.includes(n.codename.toLowerCase())&&"white"!==n.color,s=e.up?"windows"===e.os?(t=r,Object(b.jsx)("img",{width:"20px",style:{filter:t?"invert(100%)":void 0,marginBottom:"-5px"},src:"/windows.svg",alt:"windows"})):"red"===n.codename.toLowerCase()?function(e){return Object(b.jsxs)("div",{style:{marginBottom:"6px"},children:[Object(b.jsx)("img",{width:"16px",style:{filter:e?"invert(100%)":void 0,marginBottom:"-2px"},src:"/macos.svg",alt:"macos"}),"/",Object(b.jsx)("img",{width:"16px",style:{filter:e?"invert(100%)":void 0,marginBottom:"-2px"},src:"/linux.svg",alt:"linux"})]})}(r):function(e){return Object(b.jsx)("img",{width:"20px",style:{filter:e?"invert(100%)":void 0,marginBottom:"-5px"},src:"/linux.svg",alt:"linux"})}(r):Object(b.jsx)("div",{style:{width:"26px"}});return Object(b.jsx)(H,{hostname:o,entry:e,staticInfo:n,osLogo:s},o)})):t="Loading...";return Object(b.jsxs)("tr",{className:Q.a.tableRow,children:[Object(b.jsx)("td",{children:n.room}),Object(b.jsx)("td",{style:{color:n.color},children:n.codename}),Object(b.jsx)("td",{children:n.type}),Object(b.jsx)("td",{children:n.processor}),Object(b.jsx)("td",{children:n.memory}),Object(b.jsx)("td",{children:n.graphics}),Object(b.jsx)("td",{children:Object(b.jsx)("div",{className:Q.a.classes,children:Object(b.jsx)(V,{staticInfo:n,classes:s,onAfterClasses:function(e){d(e)}})})}),Object(b.jsx)("td",{children:"string"===typeof t?t:Object(b.jsx)("div",{className:X()(Q.a.hostsButtons,Object(C.a)({},Q.a.hostsButtonsDuringClasses,!l)),children:t})})]})},q=n(57),J=n.n(q),Z=n(155),Y=function(e){var t=e.isDark,n=Object(o.useState)(),r=Object(a.a)(n,2),s=r[0],c=r[1],i=Object(o.useState)(),l=Object(a.a)(i,2),d=l[0],u=l[1],h=function(){var e=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{J.a.get("https://students.mimuw.edu.pl/~kr394714/mim-hosts/").then((function(e){c(e.data)}))}catch(t){console.error(t.message)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{J.a.get("https://students.mimuw.edu.pl/~kr394714/mim-hosts/rooms/").then((function(e){u(e.data)}))}catch(t){console.error(t.message)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.get("https://students.mimuw.edu.pl/~kr394714/mim-hosts/visits/");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(Z.a)((function(){j().then()})),Object(o.useEffect)((function(){h().then(),m().then();var e=setInterval((function(){h().then(),m().then()}),6e4);return function(){return clearInterval(e)}}),[]),Object(b.jsx)("div",{className:k.a.tableResponsive,children:Object(b.jsxs)("table",{className:k.a.tableBordered,children:[Object(b.jsx)(y,{}),Object(b.jsx)("tbody",{children:_(t).map((function(e){var t=s?s[e.codename.toLowerCase()]:void 0,n=d?d[e.room]:void 0;return Object(b.jsx)(K,{staticInfo:e,hosts:t,classes:n},e.codename.toLowerCase())}))})]})})},U=n(55),$={body:"white",text:"#212529",thBorderColor:"#454d55"},ee={body:"#303030",text:"white",thBorderColor:"#dee2e6"},te=n(87),ne=Object(U.b)(v||(v=Object(te.a)(["\n  body {\n    font-family: 'Titillium Web', sans-serif;\n    background: ",";\n    color: ",";\n  }\n\n  th {\n    border: 1px solid ",";\n  }\n\n  .App {\n    text-align: center;\n  }\n"])),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.thBorderColor})),oe=n(91),re=n.n(oe);var se=function(){return Object(b.jsxs)("div",{className:re.a.footer,children:["Kontakt: ",Object(b.jsx)("a",{href:"mailto:k.rokicki@students.mimuw.edu.pl",children:"k.rokicki@students.mimuw.edu.pl"})]})};var ce=function(){var e=function(){var e=Object(o.useState)(window.localStorage.getItem("theme")||"dark"),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){var e=window.localStorage.getItem("theme");e&&r(e)}),[]),[n,function(){"light"===n?(window.localStorage.setItem("theme","dark"),r("dark")):(window.localStorage.setItem("theme","light"),r("light"))}]}(),t=Object(a.a)(e,2),n=t[0],r=t[1],s="light"===n?$:ee;return Object(b.jsx)(W.a,{maxSnack:2,disableWindowBlurListener:!0,children:Object(b.jsx)(U.a,{theme:s,children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ne,{}),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(p,{isDark:"dark"===n,onChange:r}),Object(b.jsx)(Y,{isDark:"dark"===n}),Object(b.jsx)(se,{})]})]})})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,160)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),o(e),r(e),s(e),c(e)}))};c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(ce,{})}),document.getElementById("root")),ae()},47:function(e,t,n){e.exports={tableRow:"TableRow_tableRow__F3VnF",classes:"TableRow_classes__3PfM9",hostsButtons:"TableRow_hostsButtons__fQQGn",hostsButtonsDuringClasses:"TableRow_hostsButtonsDuringClasses__SYE7E"}},63:function(e,t,n){e.exports={tableResponsive:"Table_tableResponsive__2TNAy",tableBordered:"Table_tableBordered__xVRor"}},82:function(e,t,n){e.exports={theadDark:"TableHeader_theadDark__34kXy"}},83:function(e,t,n){e.exports={classButton:"ClassButton_classButton__es_Pq"}},85:function(e,t,n){e.exports={hostButton:"HostButton_hostButton__1EB-R"}},91:function(e,t,n){e.exports={footer:"Footer_footer__1lA4x"}},98:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.6a95d946.chunk.js.map